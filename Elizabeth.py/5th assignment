import requests
from bs4 import BeautifulSoup
import json

url = 'https://en.wikipedia.org/wiki/List_of_presidents_of_the_United_States'
response = requests.get(url)
content = response.content

soup = BeautifulSoup(content, 'html.parser')

table = soup.find('table', {'class':'wikitable'})

presidents_list = []

for row in table.find_all('tr')[1:]:  # Skipping the header row
    columns = row.find_all('td')
    if len(columns) > 0:
        president = {}
        president['number'] = columns[0].get_text(strip=True)
        president['name'] = columns[1].get_text(strip=True)
        president['took_office'] = columns[3].get_text(strip=True)
        president['left_office'] = columns[4].get_text(strip=True)
        president['party'] = columns[5].get_text(strip=True)
       
        presidents_list.append(president)

with open('presidents.json', 'w') as json_file:
    json.dump(presidents_list, json_file, indent=4)

print("Data has been successfully scraped and saved to presidents.json")
